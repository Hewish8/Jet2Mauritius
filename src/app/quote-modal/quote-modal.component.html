<div class="modal-backdrop" *ngIf="visible" (click)="closeModal()"></div>

<div class="modal-card card" *ngIf="visible" role="dialog" aria-modal="true" aria-label="Request Quote">
  <div style="display:flex; justify-content:space-between; align-items:center;">
    <h3 style="margin:0; color:var(--gold-500)">Request a Quote</h3>
    <button class="btn btn-ghost" (click)="closeModal()" aria-label="Close">&times;</button>
  </div>

  <hr style="border-color: rgba(255,255,255,0.04); margin: .8rem 0;">

  <form (ngSubmit)="next()">
    <div *ngIf="step === 1">
      <div class="row" style="flex-wrap:wrap;">
        <input formControlName="origin" placeholder="From (city or airport code)" class="card" style="flex:1; min-width:180px;" />
        <input formControlName="date" type="date" class="card" style="width:200px;" />
      </div>

      <div class="row" style="margin-top:1rem;">
        <select formControlName="passengers" class="card" style="width:160px;">
          <option *ngFor="let p of [1,2,3,4,5,6,7,8,9,10]">{{p}}</option>
        </select>
        <input formControlName="contact" placeholder="Email or phone" class="card" style="flex:1; min-width:200px;" />
      </div>

      <div class="row" style="margin-top: 1.5rem; justify-content: flex-start;">
        <label class="toggle-switch">
          <input type="checkbox" formControlName="isReturn" />
          <span class="slider"></span>
          <span class="label-text">Return Flight</span>
        </label>
      </div>

      <p style="margin-top:0.8rem; color:var(--muted); font-size:0.95rem;">
        We'll contact you with a bespoke quote within ~15 minutes.
      </p>
    </div>

    <div *ngIf="step === 2">
      <label style="color:var(--muted)">Special requests (catering, pets, baggage)</label>
      <textarea class="card" rows="4" formControlName="specialRequests" placeholder="Any preferences?"></textarea>
    </div>

    <div style="display:flex; gap:.6rem; justify-content:flex-end; margin-top:1rem;">
      <button type="button" class="btn btn-ghost" (click)="back()" *ngIf="step>1">Back</button>
      <button type="submit" class="btn btn-primary">{{ step === 1 ? 'Next' : 'Submit Request' }}</button>
    </div>
  </form>
</div>
